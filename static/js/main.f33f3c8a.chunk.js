(this["webpackJsonpsql-select-cutter"]=this["webpackJsonpsql-select-cutter"]||[]).push([[0],[,,,,,,,,,function(e,t,n){},,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),l=n(4),s=n.n(l),i=(n(9),n(2));function r(e,t){return e.map(((e,n)=>t.includes(n)?e:null)).filter((e=>null!==e))}var o=n.p+"static/media/copy.067cf7a4.svg",u=(n(12),n(0));var j=function(e){const[t,n]=Object(c.useState)(!1),a="".concat("SELECT column_name\nFROM USER_TAB_COLUMNS\nWHERE table_name = '").concat(e.data.table).concat("'\norder by column_id;"),l=Object(i.useClipboard)({onError(){alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")},copiedTimeout:3e3});return t?Object(u.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u044b"}):Object(u.jsxs)("section",{children:[Object(u.jsx)("p",{children:"\u0421\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u0434:"}),Object(u.jsx)("code",{children:a}),Object(u.jsxs)("article",{onClick:function(){l.copy(a)},children:[Object(u.jsx)("img",{src:o,alt:"\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(u.jsx)("p",{children:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434"})]}),Object(u.jsx)("p",{children:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0435\u0433\u043e \u0432 \u0441\u0432\u043e\u044e IDE \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435"}),Object(u.jsxs)("article",{children:[Object(u.jsx)("label",{htmlFor:"alias_".concat(e.index,"_input"),children:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 (\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430)"}),Object(u.jsx)("input",{type:"text",id:"alias_".concat(e.index,"_input"),name:"alias_".concat(e.index,"_input"),placeholder:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",value:"",onChange:t=>function(t){const c=e.aliases.slice();c.push({data:t.split(/,|\s+/),alias:e.data.alias}),n(!0),e.setAliases(c)}(t.target.value)})]})]})};n(14);var p=function(e){const t=Object(i.useClipboard)({onError(){alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")},copiedTimeout:3e3});return Object(u.jsx)("table",{children:Object(u.jsx)("tbody",{children:e.data.map(((n,c)=>Object(u.jsx)("tr",{children:n.map(((n,a)=>Object(u.jsxs)("td",{title:1===c?"\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440":"",children:[n,0===c?Object(u.jsx)("img",{src:o,alt:"\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onClick:()=>{!function(n){let c="";e.data.forEach(((a,l)=>{0===l?c="".concat(a[n],": "):l===e.data.length-1?c+="".concat(a[n],"."):c+="".concat(a[n],", "),t.copy(c)}))}(a)}}):""]},"cell-".concat(a))))},"row-".concat(c))))})})};n(15),n(16);var h=function(){const[e,t]=Object(c.useState)(!1),[n,a]=Object(c.useState)(!1),[l,s]=Object(c.useState)([]),[i,o]=Object(c.useState)([]),[h,d]=Object(c.useState)([]),[b,O]=Object(c.useState)(""),[f,g]=Object(c.useState)(""),[x,m]=Object(c.useState)(!1),[S,_]=Object(c.useState)([]),[v,C]=Object(c.useState)([]);return Object(c.useEffect)((()=>{if(S.length===v.length){const e=f.replace(/\S+\.\*/gi,(e=>{const t=e.replace(/\.\*$/,"");return v.find((e=>e.alias===t)).data.map((e=>"".concat(t,".").concat(e)))}));let t=[...e.toLowerCase().replace(/select\s*/,"").replace(/\s*from\s[\s\S]*/,"").replace(/( +)|(\n)/g,((e,t,n)=>t?" ":n?"\n":e)).replace(" ","").split(",").map((e=>e.replace(/^\S*\s/,"")))];s(t)}}),[S.length,v.length,f,S,v]),e?Object(u.jsx)(p,{data:i}):Object(u.jsx)("section",{children:n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u044b"}),x?Object(u.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u044b"}):Object(u.jsxs)("article",{children:[Object(u.jsx)("label",{htmlFor:"names_input",children:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 SQL-\u0437\u0430\u043f\u0440\u043e\u0441"}),Object(u.jsx)("input",{type:"text",id:"names_input",name:"names_input",placeholder:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0438\u043c\u0435\u043d\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432",value:f,onChange:function(e){const t=e.target.value;g(t),function(e){const t=e.match(/\S+\.\*/gi),n=e.toUpperCase().replace(/(\S+\s)*FROM/,""),c=t.map((e=>{const t=e.replace(/\.\*$/,""),c=n.split(" "),a=c.findIndex((e=>e===t));return{table:c[a-1],alias:t}}));_(c)}(t),m(!0)}})]}),S.length>0?S.map(((e,t)=>Object(u.jsx)(j,{data:e,index:t,aliases:v,setAliases:C},"alias-".concat(t)))):"",Object(u.jsx)("button",{className:"main_button",disabled:S.length!==v.length,onClick:function(){let e=function(e){const t=e[0],n=[];return e.forEach(((c,a)=>{if(a%(l.length-1)===0&&0!==a&&a!==e.length-1){const e=c.slice(0,0-t.length-1),a=c.slice(0-t.length);n.push(e),n.push(a)}else n.push(c)})),n}(h);e=function(e,t){const n=e;let c=[];if(t.length===n)c.push(t);else for(let a=1;a<=t.length/n;a++){const e=[];t.forEach(((t,c)=>{c<n*a&&c>=n*(a-1)&&e.push(t)})),c.push(e)}return c}(l.length,e);const n=[];console.log(l,e);for(let a=0;a<l.length;a++){let c=[];for(let t=0;t<e.length;t++)c.push(e[t][a]);c.every((e=>null===e||void 0===e||"null"===e))||n.push(a),t(!1)}const c=[r(l,n),...e.map((e=>r(e,n)))];o(c.filter((e=>!e.every((e=>null===e))))),t(!0)},children:"Run"})]}):Object(u.jsxs)("article",{children:[Object(u.jsx)("label",{htmlFor:"data_input",children:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 (\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430)"}),Object(u.jsx)("input",{type:"text",id:"data_input",name:"data_input",placeholder:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",value:b,onChange:e=>function(e){if(!n){const t=function(e){const t=e.replace(/( +)|(\n+)/g,((e,t,n)=>t?" ":n?", ":e));let n=[],c="",a=!1,l=!1;for(let s=0;s<t.length;s++)"<"===t[s]?a=!0:">"===t[s]?a=!1:'"'!==t[s]||a?","!==t[s]||a||l?c+=t[s]:(n.push(c),c=""):l=!l;return n.push(c),n.map((e=>""===e.trim()?null:e.trim()))}(e);O(e),a(!0),d(t)}}(e.target.value)})]})})};var d=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((t=>{let{getCLS:n,getFID:c,getFCP:a,getLCP:l,getTTFB:s}=t;n(e),c(e),a(e),l(e),s(e)}))};s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(h,{})}),document.getElementById("root")),d()}],[[17,1,2]]]);
//# sourceMappingURL=main.f33f3c8a.chunk.js.map