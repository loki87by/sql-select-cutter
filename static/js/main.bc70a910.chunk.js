(this["webpackJsonpsql-select-cutter"]=this["webpackJsonpsql-select-cutter"]||[]).push([[0],{10:function(e,t,c){},207:function(e,t,c){},209:function(e,t,c){},210:function(e,t,c){},211:function(e,t,c){},212:function(e,t,c){},213:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),l=c(5),s=c.n(l),i=(c(10),c(2));function o(e,t){return e.map(((e,c)=>t.includes(c)?e:null)).filter((e=>null!==e))}var r=c(3),u=c.n(r),p=c.p+"static/media/copy.067cf7a4.svg",j=(c(207),c(0));var d=function(e){const[t,c]=Object(n.useState)(!1),a="".concat("SELECT column_name\nFROM USER_TAB_COLUMNS\nWHERE table_name = '").concat(e.data.table).concat("'\norder by column_id;"),l=Object(i.useClipboard)({onError(){alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")},copiedTimeout:3e3});return t?Object(j.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u044b"}):Object(j.jsxs)("section",{style:{backgroundColor:"rgba(253, 241, 241, .42)",width:"max-content",padding:"1vmin",margin:"1vmax"},children:[Object(j.jsx)("p",{children:"\u0421\u043a\u043e\u043f\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043a\u043e\u0434:"}),Object(j.jsx)(u.a,{className:"sql",children:a}),Object(j.jsxs)("article",{onClick:function(){l.copy(a)},style:{cursor:"pointer"},children:[Object(j.jsx)("img",{src:p,alt:"\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),Object(j.jsx)("p",{children:"\u0421\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0434"})]}),Object(j.jsx)("p",{children:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0435\u0433\u043e \u0432 \u0441\u0432\u043e\u044e IDE \u0438 \u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u0435"}),Object(j.jsxs)("article",{children:[Object(j.jsx)("label",{htmlFor:"alias_".concat(e.index,"_input"),children:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 (\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430)"}),Object(j.jsx)("input",{type:"text",id:"alias_".concat(e.index,"_input"),name:"alias_".concat(e.index,"_input"),placeholder:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",value:"",onChange:t=>function(t){const n=e.aliases.slice();n.push({data:t.split(/,|\s+/),alias:e.data.alias}),c(!0),e.setAliases(n)}(t.target.value)})]})]})},h=c.p+"static/media/close.ec18e898.svg",b=c.p+"static/media/copy copy.39535df2.svg";c(209);var O=function(e){const t=Object(i.useClipboard)({onError(){alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")},copiedTimeout:3e3});return Object(j.jsxs)("section",{className:"Popup ".concat(e.popupIsOpen&&"Popup_opened"),children:[Object(j.jsxs)("article",{className:"Popup_buttons",children:[Object(j.jsxs)("article",{className:"Popup_button",onClick:function(){t.copy(e.code)},children:[Object(j.jsx)("h3",{children:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c "}),Object(j.jsx)("img",{className:"Popup_button-image",src:b,alt:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c",title:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c"})]}),Object(j.jsxs)("article",{className:"Popup_button",onClick:e.closePopup,children:[Object(j.jsx)("h3",{children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c "}),Object(j.jsx)("img",{className:"Popup_button-image",src:h,alt:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c",title:"\u0437\u0430\u043a\u0440\u044b\u0442\u044c"})]})]}),Object(j.jsx)(u.a,{className:"xml",children:(e=>{let t=0,c="  ",n="";return(e=e.replace(/>/g,">\n").replace(/<\/(?!\/)/g,"\n</").replace("\n*","\n")).split("\n").forEach((e=>{const a=e.replace("\n","");console.log(e,a,e===a,e.length);let l="";a.match(/^<\/[\w\W]*>$/)?(t--,l=c.repeat(t)):a.match(/^<[\w\W]*>$/)?(l=c.repeat(t),t++):l=c.repeat(t),a.length>0&&(n+=l+a+"\n")})),n})(e.code)})]})},m=c.p+"static/media/eye.f1a3a460.svg";c(210);var g=function(e){const[t,c]=Object(n.useState)([]),[a,l]=Object(n.useState)(""),[s,o]=Object(n.useState)(!1),r=Object(i.useClipboard)({onError(){alert("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u043f\u0440\u0435\u0434\u0432\u0438\u0434\u0435\u043d\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")},copiedTimeout:3e3});return Object(n.useEffect)((()=>{if(void 0!==e.data){const t=e.data.map(((e,t)=>e.map((e=>"<"===e[0]&&">"===e[e.length-1]?e:null)).find((e=>null!==e))));c(t)}}),[e.data]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("table",{children:Object(j.jsx)("tbody",{children:e.data.map(((c,n)=>Object(j.jsx)("tr",{children:c.map(((c,a)=>Object(j.jsxs)("td",{title:1===n?"\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u043e\u043b\u0431\u0446\u0430 \u0432 \u0431\u0443\u0444\u0435\u0440":"",children:["<"===c[0]&&">"===c[c.length-1]?"XML":c,0===n?Object(j.jsx)("img",{src:p,alt:"\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",title:"\u043a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",onClick:()=>{!function(t){let c="";e.data.forEach(((n,a)=>{0===a?c="".concat(n[t],": "):a===e.data.length-1?c+="".concat(n[t],"."):c+="".concat(n[t],", "),r.copy(c)}))}(a)}}):"","<"===c[0]&&">"===c[c.length-1]?Object(j.jsx)("img",{src:m,alt:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",title:"\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",onClick:()=>{!function(e){l(t[e]),o(!0)}(n)}}):""]},"cell-".concat(a))))},"row-".concat(n))))})}),Object(j.jsx)(O,{popupIsOpen:s,code:a,closePopup:function(){l(""),o(!1)}})]})};c(211),c(212);var x=function(){const[e,t]=Object(n.useState)(!1),[c,a]=Object(n.useState)(!1),[l,s]=Object(n.useState)([]),[i,r]=Object(n.useState)([]),[u,p]=Object(n.useState)([]),[h,b]=Object(n.useState)(""),[O,m]=Object(n.useState)(""),[x,f]=Object(n.useState)(!1),[S,_]=Object(n.useState)([]),[v,C]=Object(n.useState)([]);return Object(n.useEffect)((()=>{if(S.length===v.length){const e=O.replace(/\S+\.\*/gi,(e=>{const t=e.replace(/\.\*$/,"");return v.find((e=>e.alias===t)).data.map((e=>"".concat(t,".").concat(e)))}));let t=[...e.toLowerCase().replace(/select\s*/,"").replace(/\s*from\s[\s\S]*/,"").replace(/( +)|(\n)/g,((e,t,c)=>t?" ":c?"\n":e)).replace(" ","").split(",").map((e=>e.replace(/^\S*\s/,"")))];s(t)}}),[S.length,v.length,O,S,v]),e?Object(j.jsx)(g,{data:i}):Object(j.jsx)("section",{children:c?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u044b"}),x?Object(j.jsx)("p",{children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u043f\u0440\u0438\u043d\u044f\u0442\u044b"}):Object(j.jsxs)("article",{children:[Object(j.jsx)("label",{htmlFor:"names_input",children:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 SQL-\u0437\u0430\u043f\u0440\u043e\u0441"}),Object(j.jsx)("input",{type:"text",id:"names_input",name:"names_input",placeholder:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0438\u043c\u0435\u043d\u0430 \u0441\u0442\u043e\u043b\u0431\u0446\u043e\u0432",value:O,onChange:function(e){const t=e.target.value;m(t),function(e){const t=e.match(/\S+\.\*/gi),c=e.toUpperCase().replace(/(\S+\s)*FROM/,""),n=t.map((e=>{const t=e.replace(/\.\*$/,""),n=c.split(" "),a=n.findIndex((e=>e===t));return{table:n[a-1],alias:t}}));_(n)}(t),f(!0)}})]}),S.length>0?S.map(((e,t)=>Object(j.jsx)(d,{data:e,index:t,aliases:v,setAliases:C},"alias-".concat(t)))):"",Object(j.jsx)("button",{className:"main_button",disabled:S.length!==v.length,onClick:function(){let e=function(e){const t=e[0],c=[];return e.forEach(((n,a)=>{if(a%(l.length-1)===0&&0!==a&&a!==e.length-1){const e=n.slice(0,0-t.length-1),a=n.slice(0-t.length);c.push(e),c.push(a)}else c.push(n)})),c}(u);e=function(e,t){const c=e;let n=[];if(t.length===c)n.push(t);else for(let a=1;a<=t.length/c;a++){const e=[];t.forEach(((t,n)=>{n<c*a&&n>=c*(a-1)&&e.push(t)})),n.push(e)}return n}(l.length,e);const c=[];for(let a=0;a<l.length;a++){let n=[];for(let t=0;t<e.length;t++)n.push(e[t][a]);n.every((e=>null===e||void 0===e||"null"===e))||c.push(a),t(!1)}const n=[o(l,c),...e.map((e=>o(e,c)))];r(n.filter((e=>!e.every((e=>null===e))))),t(!0)},children:"Run"})]}):Object(j.jsxs)("article",{children:[Object(j.jsx)("label",{htmlFor:"data_input",children:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 (\u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0437\u0430\u043f\u0440\u043e\u0441\u0430)"}),Object(j.jsx)("input",{type:"text",id:"data_input",name:"data_input",placeholder:"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",value:h,onChange:e=>function(e){if(!c){const t=function(e){const t=e.replace(/( +)|(\n+)/g,((e,t,c)=>t?" ":c?", ":e));let c=[],n="",a=!1,l=!1;for(let s=0;s<t.length;s++)"<"===t[s]?(a=!0,n+=t[s]):">"===t[s]?(a=!1,n+=t[s]):'"'!==t[s]||a?","!==t[s]||a||l?n+=t[s]:(c.push(n),n=""):l=!l;return c.push(n),c.map((e=>""===e.trim()?null:e.trim()))}(e);b(e),a(!0),p(t)}}(e.target.value)})]})})};var f=e=>{e&&e instanceof Function&&c.e(3).then(c.bind(null,214)).then((t=>{let{getCLS:c,getFID:n,getFCP:a,getLCP:l,getTTFB:s}=t;c(e),n(e),a(e),l(e),s(e)}))};s.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(x,{})}),document.getElementById("root")),f()}},[[213,1,2]]]);
//# sourceMappingURL=main.bc70a910.chunk.js.map